# 06. ì‹¤í—˜ ì¶”ì  ê´€ë¦¬

## ë¬¸ì„œ ì •ë³´
- **ì‘ì„±ì¼**: 2025-10-30
- **í”„ë¡œì íŠ¸ëª…**: ë…¼ë¬¸ ë¦¬ë·° ì±—ë´‡ (AI Agent + RAG)
- **íŒ€ëª…**: ì—°ê²°ì˜ ë¯¼ì¡±

---

## 1. ì‹¤í—˜ í´ë” êµ¬ì¡°

### 1.1 ì‹¤í—˜ í´ë” ìƒì„± íë¦„

```mermaid
graph TB
    subgraph Init["ğŸ”¸ ì´ˆê¸°í™”"]
        direction LR
        A[ì‹¤í—˜ ì‹œì‘] --> B[ë‚ ì§œ/ì‹œê°„<br/>ìƒì„±<br/>YYYYMMDD_HHMMSS]
        B --> C[ì‹¤í—˜ëª… ì •ì˜<br/>feature_xxx]
    end

    subgraph Create["ğŸ”¹ í´ë” ìƒì„±"]
        direction LR
        D[ê²½ë¡œ ìƒì„±<br/>experiments/ë‚ ì§œ/] --> E[í´ë” ìƒì„±<br/>ë‚ ì§œ_ì‹œê°„_ì‹¤í—˜ëª…/]
        E --> F[Logger ì´ˆê¸°í™”<br/>experiment.log]
    end

    subgraph Execute["ğŸ”º ì‹¤í—˜ ì‹¤í–‰"]
        direction LR
        G[ì‹¤í—˜ ì½”ë“œ ì‹¤í–‰] --> H[ë¡œê·¸ ê¸°ë¡<br/>logger.write]
        H --> I[ê²°ê³¼ ì €ì¥<br/>config.yaml, results.json]
    end

    Init --> Create
    Create --> Execute

    %% Subgraph ìŠ¤íƒ€ì¼
    style Init fill:#e1f5ff,stroke:#01579b,stroke-width:3px,color:#000
    style Create fill:#f3e5f5,stroke:#4a148c,stroke-width:3px,color:#000
    style Execute fill:#e8f5e9,stroke:#1b5e20,stroke-width:3px,color:#000

    %% ë…¸ë“œ ìŠ¤íƒ€ì¼
    style A fill:#90caf9,stroke:#1976d2,color:#000
    style B fill:#64b5f6,stroke:#1976d2,color:#000
    style C fill:#42a5f5,stroke:#1565c0,color:#000
    style D fill:#ce93d8,stroke:#7b1fa2,color:#000
    style E fill:#ba68c8,stroke:#7b1fa2,color:#fff
    style F fill:#ab47bc,stroke:#4a148c,color:#fff
    style G fill:#a5d6a7,stroke:#388e3c,color:#000
    style H fill:#81c784,stroke:#2e7d32,color:#000
    style I fill:#66bb6a,stroke:#2e7d32,color:#fff
```

### 1.2 í•„ìˆ˜ êµ¬ì¡°

ëª¨ë“  ì‹¤í—˜ ê²°ê³¼ë¬¼ì€ `experiments/ë‚ ì§œ/ë‚ ì§œ_ì‹œê°„_ì‹¤í—˜ëª…/` êµ¬ì¡°ë¡œ ì €ì¥:

```
experiments/
â””â”€â”€ 20251030/                              # ë‚ ì§œ (YYYYMMDD)
    â”œâ”€â”€ 20251030_143052_rag_vectordb_build/
    â”‚   â”œâ”€â”€ experiment.log                 # ë¡œê·¸ íŒŒì¼
    â”‚   â”œâ”€â”€ config.yaml                    # ì‹¤í—˜ ì„¤ì •
    â”‚   â”œâ”€â”€ results.json                   # ì‹¤í—˜ ê²°ê³¼
    â”‚   â””â”€â”€ vectordb/                      # VectorDB ê²°ê³¼
    â”‚
    â””â”€â”€ 20251030_150823_agent_execution/
        â”œâ”€â”€ experiment.log
        â”œâ”€â”€ config.yaml
        â””â”€â”€ responses.json
```

---

## 2. ì‹¤í—˜ëª… ëª…ëª… ê·œì¹™

| ì¹´í…Œê³ ë¦¬ | í˜•ì‹ | ì˜ˆì‹œ |
|----------|------|------|
| ê¸°ëŠ¥ ê°œë°œ | `feature_<ê¸°ëŠ¥ëª…>` | `feature_web_search_tool` |
| RAG ì‹¤í—˜ | `rag_<ë‚´ìš©>` | `rag_vectordb_build` |
| Agent ì‹¤í—˜ | `agent_<ë‚´ìš©>` | `agent_tool_calling` |
| í‰ê°€ | `eval_<ëŒ€ìƒ>` | `eval_chatbot_accuracy` |
| ë””ë²„ê¹… | `debug_<ë¬¸ì œ>` | `debug_memory_leak` |

---

## 3. ì‹¤í—˜ í´ë” ìƒì„± í…œí”Œë¦¿

```python
import os
from datetime import datetime

# ë‚ ì§œì™€ ì‹œê°„ ìƒì„±
today = datetime.now().strftime("%Y%m%d")
time_now = datetime.now().strftime("%H%M%S")
experiment_name = "rag_vectordb_build"

# ì‹¤í—˜ í´ë” ê²½ë¡œ
experiment_dir = f"experiments/{today}/{today}_{time_now}_{experiment_name}"
os.makedirs(experiment_dir, exist_ok=True)

# Logger ìƒì„±
from src.utils.logger import Logger
logger = Logger(f"{experiment_dir}/experiment.log")
```

---

## 4. ì‹¤í—˜ ê²°ê³¼ ì €ì¥

### 4.1 í•„ìˆ˜ íŒŒì¼

1. **experiment.log**: Loggerë¡œ ê¸°ë¡ëœ ë¡œê·¸
2. **config.yaml**: ì‹¤í—˜ ì„¤ì • (ëª¨ë¸, íŒŒë¼ë¯¸í„° ë“±)
3. **results.json**: ì‹¤í—˜ ê²°ê³¼ (ë©”íŠ¸ë¦­, ì„±ëŠ¥ ë“±)

### 4.2 ì„ íƒ íŒŒì¼

- **vectordb/**: VectorDB ì €ì¥ì†Œ
- **outputs/**: ìƒì„±ëœ ë‹µë³€
- **screenshots/**: ìŠ¤í¬ë¦°ìƒ·

---

## 5. ì°¸ê³  ìë£Œ

- ì‹¤í—˜ í´ë” ê·œì¹™ ìƒì„¸: `docs/rules/ì‹¤í—˜_í´ë”ëª…_ê·œì¹™.md`
- Logger ì‚¬ìš©ë²•: `docs/rules/logger_ì‚¬ìš©ë²•.md`
