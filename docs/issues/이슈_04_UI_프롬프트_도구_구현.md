## ì œëª© : Streamlit UI, í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ ë° ì›¹ê²€ìƒ‰/íŒŒì¼ì €ì¥ ë„êµ¬ êµ¬í˜„

---

## ğŸ“‹ ì‘ì—… ê°œìš”
**ì‘ì—… ì£¼ì œ:** Streamlit ì±„íŒ… UI ê°œë°œ, í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§, ì›¹ ê²€ìƒ‰ ë„êµ¬, íŒŒì¼ ì €ì¥ ë„êµ¬ êµ¬í˜„
**ë‹´ë‹¹ì:** @ì„ì˜ˆìŠ¬
**ë§ˆê°ì¼:** 11/03 24:00

## ğŸ“… ê¸°ê°„
- ì‹œì‘ì¼: 2025-10-28
- ì¢…ë£Œì¼: 2025-11-03

---

## ğŸ“Œ ì´ìŠˆ ëª©ì 

ì‚¬ìš©ìì™€ AI Agentê°€ ìƒí˜¸ì‘ìš©í•˜ëŠ” Streamlit ê¸°ë°˜ ì±„íŒ… ì¸í„°í˜ì´ìŠ¤ë¥¼ ê°œë°œí•˜ê³ , Easy/Hard ë‚œì´ë„ë³„ í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ì„ ì„¤ê³„í•©ë‹ˆë‹¤. ë˜í•œ ìµœì‹  ì •ë³´ ê²€ìƒ‰ì„ ìœ„í•œ ì›¹ ê²€ìƒ‰ ë„êµ¬ì™€ ëŒ€í™” ë‚´ìš© ì €ì¥ì„ ìœ„í•œ íŒŒì¼ ì €ì¥ ë„êµ¬ë¥¼ êµ¬í˜„í•©ë‹ˆë‹¤.

**í•µì‹¬ ëª©í‘œ:**
- Streamlit ì±„íŒ… ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ (ë‚œì´ë„ ì„ íƒ, ëŒ€í™” ì´ë ¥, ìŠ¤íŠ¸ë¦¬ë°)
- Langchain PromptTemplate ê¸°ë°˜ Easy/Hard í”„ë¡¬í”„íŠ¸ ê°œë°œ
- Tavily ì›¹ ê²€ìƒ‰ ë„êµ¬ êµ¬í˜„ (search_latest_papers)
- íŒŒì¼ ì €ì¥ ë„êµ¬ êµ¬í˜„ (save_to_file, save_to_markdown)
- Streamlit ë‹¤ìš´ë¡œë“œ ë²„íŠ¼ ì—°ë™

---

## âœ… ì‘ì—… í•­ëª© ì²´í¬ë¦¬ìŠ¤íŠ¸

### Phase 1: Streamlit UI ê¸°ì´ˆ ê°œë°œ (2ì¼)
- [ ] ê¸°ë³¸ ì±„íŒ… ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ (`ui/app.py`)
  - [ ] í˜ì´ì§€ ì„¤ì • (page_title, page_icon, layout)
  - [ ] ì œëª© ë° ì„¤ëª… í‘œì‹œ
  - [ ] ì‚¬ì´ë“œë°” ë‚œì´ë„ ì„ íƒ UI (st.selectbox: Easy/Hard)
  - [ ] ì„¸ì…˜ ìƒíƒœ ì´ˆê¸°í™” (messages, memory_manager, agent)
  - [ ] ëŒ€í™” íˆìŠ¤í† ë¦¬ í‘œì‹œ (st.chat_message)
  - [ ] ì‚¬ìš©ì ì…ë ¥ ì²˜ë¦¬ (st.chat_input)
  - [ ] AI ë‹µë³€ ìƒì„± (Agent.invoke())
  - [ ] ChatMemoryManager ì—°ë™
- [ ] ì‚¬ì´ë“œë°” ì¶”ê°€ ê¸°ëŠ¥
  - [ ] ì‚¬ìš© ë°©ë²• ì•ˆë‚´
  - [ ] ì˜ˆì‹œ ì§ˆë¬¸ í‘œì‹œ
  - [ ] ëŒ€í™” ì´ˆê¸°í™” ë²„íŠ¼

### Phase 2: í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ ê°œë°œ (1ì¼)
- [ ] Easy/Hard ëª¨ë“œ í”„ë¡¬í”„íŠ¸ êµ¬í˜„ (`src/prompts/templates.py`)
  - [ ] EASY_SYSTEM_PROMPT ì •ì˜
    - [ ] ì „ë¬¸ ìš©ì–´ë¥¼ ì‰¬ìš´ ë§ë¡œ ì„¤ëª…
    - [ ] ì‹¤ìƒí™œ ë¹„ìœ  ì‚¬ìš©
    - [ ] ìˆ˜ì‹ ìµœì†Œí™”
    - [ ] í•µì‹¬ ì•„ì´ë””ì–´ 3ê°€ì§€ ì´ë‚´ ìš”ì•½
  - [ ] HARD_SYSTEM_PROMPT ì •ì˜
    - [ ] ê¸°ìˆ ì  ì„¸ë¶€ì‚¬í•­ ë° ìˆ˜ì‹ í¬í•¨
    - [ ] ì•Œê³ ë¦¬ì¦˜ ì‹œê°„/ê³µê°„ ë³µì¡ë„ ë¶„ì„
    - [ ] ê´€ë ¨ ë…¼ë¬¸ ë¹„êµ (ì¥ë‹¨ì )
    - [ ] êµ¬í˜„ ì‹œ ê³ ë ¤ì‚¬í•­
    - [ ] ìµœì‹  ì—°êµ¬ ë™í–¥ ì—°ê²°
  - [ ] ChatPromptTemplate ìƒì„± (SystemMessage + HumanMessage)
  - [ ] get_difficulty_prompt() í•¨ìˆ˜ êµ¬í˜„
- [ ] RAG í”„ë¡¬í”„íŠ¸ êµ¬í˜„
  - [ ] RAG_PROMPT_TEMPLATE ì •ì˜ (context, question, difficulty í¬í•¨)
  - [ ] ì¶œì²˜ ëª…ì‹œ ê·œì¹™ í¬í•¨
- [ ] FewShotPromptTemplate êµ¬í˜„ (ì„ íƒ ì‚¬í•­)

### Phase 3: ì›¹ ê²€ìƒ‰ ë„êµ¬ ê°œë°œ (1ì¼)
- [ ] Tavily ì›¹ ê²€ìƒ‰ ë„êµ¬ êµ¬í˜„ (`src/tools/web_search.py`)
  - [ ] TavilySearchResults ì´ˆê¸°í™” (max_results=5, search_depth="advanced")
  - [ ] @tool ë°ì½”ë ˆì´í„°ë¡œ search_latest_papers í•¨ìˆ˜ ì •ì˜
  - [ ] ê²€ìƒ‰ ì¿¼ë¦¬ í™•ì¥ (AI ML paper 2024 2025 arxiv ì¶”ê°€)
  - [ ] format_web_search_results() í•¨ìˆ˜ êµ¬í˜„ (Markdown í˜•ì‹)
- [ ] arXiv ê²€ìƒ‰ ë„êµ¬ êµ¬í˜„ (ì„ íƒ ì‚¬í•­)
  - [ ] ArxivLoader ì‚¬ìš©
  - [ ] search_arxiv() í•¨ìˆ˜ ì •ì˜
- [ ] ì›¹ ê²€ìƒ‰ ë…¸ë“œ êµ¬í˜„ (web_search_node, src/agent/nodes.py)

### Phase 4: íŒŒì¼ ì €ì¥ ë„êµ¬ ê°œë°œ (1ì¼)
- [ ] íŒŒì¼ ì €ì¥ ë„êµ¬ êµ¬í˜„ (`src/tools/file_save.py`)
  - [ ] @tool ë°ì½”ë ˆì´í„°ë¡œ save_to_file í•¨ìˆ˜ ì •ì˜
    - [ ] íƒ€ì„ìŠ¤íƒ¬í”„ ê¸°ë°˜ íŒŒì¼ëª… ìë™ ìƒì„±
    - [ ] data/outputs í´ë”ì— ì €ì¥
  - [ ] @tool ë°ì½”ë ˆì´í„°ë¡œ save_to_markdown í•¨ìˆ˜ ì •ì˜
    - [ ] Markdown í˜•ì‹ í¬ë§·íŒ… (ì œëª©, ìƒì„±ì¼, ë‚´ìš©, í‘¸í„°)
- [ ] Streamlit ë‹¤ìš´ë¡œë“œ ë²„íŠ¼ ì—°ë™
  - [ ] ì‚¬ì´ë“œë°”ì— íŒŒì¼ ì €ì¥ ì„¹ì…˜ ì¶”ê°€
  - [ ] ì €ì¥ ë‚´ìš© ì„ íƒ (ëŒ€í™” ë‚´ìš© / ë§ˆì§€ë§‰ ë‹µë³€ë§Œ)
  - [ ] st.download_button() êµ¬í˜„
- [ ] íŒŒì¼ ì €ì¥ ë…¸ë“œ êµ¬í˜„ (save_file_node, src/agent/nodes.py)

### Phase 5: ìŠ¤íŠ¸ë¦¬ë° ë° ìµœì í™” (1ì¼)
- [ ] ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ êµ¬í˜„ (`ui/app_streaming.py`, ì„ íƒ ì‚¬í•­)
  - [ ] StreamlitCallbackHandler ìƒì„±
  - [ ] agent.astream_events() ì‚¬ìš©
  - [ ] ì‹¤ì‹œê°„ ì‘ë‹µ ì—…ë°ì´íŠ¸ (ì»¤ì„œ íš¨ê³¼ "â–Œ")
- [ ] UI ë””ìì¸ ê°œì„ 
  - [ ] ìƒ‰ìƒ í…Œë§ˆ ì ìš©
  - [ ] ë¡œë”© ì• ë‹ˆë©”ì´ì…˜ (st.spinner)
  - [ ] ì„±ê³µ/ì˜¤ë¥˜ ë©”ì‹œì§€ (st.success, st.error)
- [ ] í†µí•© í…ŒìŠ¤íŠ¸
  - [ ] ë‚œì´ë„ë³„ ë‹µë³€ í’ˆì§ˆ í™•ì¸
  - [ ] ì›¹ ê²€ìƒ‰ ë„êµ¬ í…ŒìŠ¤íŠ¸
  - [ ] íŒŒì¼ ì €ì¥ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸

### Phase 6: ë¬¸ì„œí™” ë° í…ŒìŠ¤íŠ¸ (ë°˜ë‚˜ì ˆ)
- [ ] ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„± (`tests/test_tools.py`)
  - [ ] test_web_search()
  - [ ] test_file_save()
- [ ] Logger í´ë˜ìŠ¤ ì ìš©
- [ ] ì‚¬ìš©ì ê°€ì´ë“œ ì‘ì„±

---

## ğŸ“¦ ì„¤ì¹˜/ì‹¤í–‰ ëª…ë ¹ì–´ ì˜ˆì‹œ

```bash
# ê°€ìƒí™˜ê²½ í™œì„±í™”
source .venv/bin/activate

# í•„ìš”í•œ íŒ¨í‚¤ì§€ ì„¤ì¹˜
pip install streamlit langchain langchain-community tavily-python

# í™˜ê²½ë³€ìˆ˜ ì„¤ì •
export TAVILY_API_KEY="your-tavily-api-key"

# Streamlit ì•± ì‹¤í–‰
streamlit run ui/app.py

# ìŠ¤íŠ¸ë¦¬ë° ë²„ì „ ì‹¤í–‰ (ì„ íƒ ì‚¬í•­)
streamlit run ui/app_streaming.py

# ë„êµ¬ í…ŒìŠ¤íŠ¸
python -c "from src.tools.web_search import search_latest_papers; print(search_latest_papers.invoke({'query': 'GPT-4'}))"

# ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
pytest tests/test_tools.py -v
```

---

### âš¡ï¸ ì°¸ê³ 

**ì¤‘ìš” ì‚¬í•­:**
1. **ë‚œì´ë„ ëª¨ë“œ**: Easy(ì´ˆì‹¬ììš©), Hard(ì „ë¬¸ê°€ìš©) í”„ë¡¬í”„íŠ¸ ëª…í™•íˆ êµ¬ë¶„
2. **Streamlit ì„¸ì…˜ ìƒíƒœ**: st.session_stateë¡œ messages, agent, memory_manager ê´€ë¦¬
3. **ì›¹ ê²€ìƒ‰**: Tavily API ì‚¬ìš© (ìµœì‹  ë…¼ë¬¸ ì •ë³´ ê²€ìƒ‰)
4. **íŒŒì¼ ì €ì¥**: ëŒ€í™” ë‚´ìš©ì„ txt ë˜ëŠ” md íŒŒì¼ë¡œ ì €ì¥, ë‹¤ìš´ë¡œë“œ ë²„íŠ¼ ì œê³µ
5. **ìŠ¤íŠ¸ë¦¬ë°**: ì‹¤ì‹œê°„ ì‘ë‹µ í‘œì‹œë¡œ UX í–¥ìƒ (ì„ íƒ ì‚¬í•­)

**í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§ íŒ:**
- Easy ëª¨ë“œ: "ë§ˆì¹˜ ~ì²˜ëŸ¼", "ì˜ˆë¥¼ ë“¤ì–´", "ì‰½ê²Œ ë§í•˜ë©´" í‘œí˜„ ì‚¬ìš©
- Hard ëª¨ë“œ: "ì•Œê³ ë¦¬ì¦˜", "ì‹œê°„ ë³µì¡ë„", "ìˆ˜ì‹", "ë…¼ë¬¸ ë¹„êµ" í¬í•¨
- RAG í”„ë¡¬í”„íŠ¸: ê²€ìƒ‰ ê²°ê³¼(context)ë¥¼ ëª…í™•íˆ ì „ë‹¬, ì¶œì²˜ ëª…ì‹œ ê°•ì¡°

**Streamlit UI êµ¬ì¡°:**
```
ì‚¬ì´ë“œë°”:
- ë‚œì´ë„ ì„ íƒ
- ì‚¬ìš© ë°©ë²•
- ì˜ˆì‹œ ì§ˆë¬¸
- íŒŒì¼ ì €ì¥
- ëŒ€í™” ì´ˆê¸°í™”

ë©”ì¸ í™”ë©´:
- ì œëª© ë° ì„¤ëª…
- ëŒ€í™” íˆìŠ¤í† ë¦¬
- ì…ë ¥ì°½
```

---

### ìœ ìš©í•œ ë§í¬

**í•„ìˆ˜ ì°¸ê³  PRD ë¬¸ì„œ:**
- `docs/PRD/01_í”„ë¡œì íŠ¸_ê°œìš”.md` - í”„ë¡œì íŠ¸ ì „ì²´ ê°œìš”
- `docs/PRD/02_í”„ë¡œì íŠ¸_êµ¬ì¡°.md` - í´ë” êµ¬ì¡° (ui/)
- `docs/PRD/05_ë¡œê¹…_ì‹œìŠ¤í…œ.md` â­ - Logger ì‚¬ìš©ë²•
- `docs/PRD/06_ì‹¤í—˜_ì¶”ì _ê´€ë¦¬.md` â­ - ì‹¤í—˜ í´ë” êµ¬ì¡°
- `docs/PRD/14_LLM_ì„¤ì •.md` - LLM ì„ íƒ ë° ì—ëŸ¬ í•¸ë“¤ë§
- `docs/PRD/15_í”„ë¡¬í”„íŠ¸_ì—”ì§€ë‹ˆì–´ë§.md` - Easy/Hard í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿
- `docs/PRD/16_UI_ì„¤ê³„.md` - Streamlit êµ¬í˜„ ê°€ì´ë“œ

**ì°¸ê³  PRD ë¬¸ì„œ:**
- `docs/PRD/03_ë¸Œëœì¹˜_ì „ëµ.md` - Feature ë¸Œëœì¹˜
- `docs/PRD/04_ì¼ì •_ê´€ë¦¬.md` - ê°œë°œ ì¼ì •
- `docs/PRD/12_AI_Agent_ì„¤ê³„.md` - Agent ì—°ë™

**ì™¸ë¶€ ë§í¬:**
- Streamlit ê³µì‹ ë¬¸ì„œ: https://docs.streamlit.io/
- Streamlit Chat Elements: https://docs.streamlit.io/library/api-reference/chat
- Langchain Prompts: https://python.langchain.com/docs/modules/model_io/prompts/
- TavilySearchResults: https://python.langchain.com/docs/integrations/tools/tavily_search/

## ğŸ”– ì¶”ì²œ ë¼ë²¨

`feature` `ui` `prompt` `tool` `high`

---
